<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>_plugin</title>
</head>
<body>
    <div class="frame">
        <div class="leftpanel" desc="leftpanel">
            <label>
                <span class="label__text"> Outer <br/> </span>
                <input id="button-outer" type="checkbox" onchange="updateViewData()"/>
            </label>

            <label>
                <span class="label__text"> Horizontal <br/> </span>
                <input class="input_range" type="range" max="100" min="-100" desc-id="range1" oninput="updateViewData()"/>
                <span class="label__text" id="range1"> 0 </span>
            </label>
            
            <label>
                <span class="label__text"> Vertical <br/> </span>
                <input class="input_range" type="range" max="100" min="-100" desc-id="range2" oninput="updateViewData()"/>
                <span class="label__text" id="range2"> 0 </span>
            </label>

            <label>
                <span class="label__text"> Blur <br/> </span>
                <input class="input_range" type="range" max="100" min="0" desc-id="range3" oninput="updateViewData()"/>
                <span class="label__text" id="range3"> 0 </span>
            </label>

            <label>
                <span class="label__text"> Stretching <br/> </span>
                <input class="input_range" type="range" max="100" min="-100" desc-id="range4" oninput="updateViewData()"/>
                <span class="label__text" id="range4"> 0 </span>
            </label>

            <label>
                <span class="label__text"> Opacity <br/> </span>
                <input class="input_range" type="range" max="100" min="0" step="1" desc-id="range5" 
                 oninput="updateViewData()"/>
                <span class="label__text" id="range5"> 0 </span>
            </label>

            <label>
                <span class="label__text"> Color <br/> </span>
                <input class="input_range" type="color" id="color-picker" style="max-width: 100px !important;" desc-id="range6" oninput="updateViewData()"/>
                <span class="label__text" id="range6"> 0 </span>
            </label>

            <div>
                CSS to copy
                <div id="ready_code" onclick="navigator.clipboard.writeText(this.innerText)" 
                style="width: 300px; height: 70px; margin-top: 20px; border: 1px solid black;"> </div>
            </div>
        </div>
        <div class="rightpanel" desc="rightpanel">
            <div class="rectangle" id="rectangle"></div>
        </div>
    </div>
    <style>
        .frame{
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: row;
            font-family: 'Yandex Sans Text', Helvetica, Arial, sans-serif;
        }
        .leftpanel{
            width: 30%;
            height: auto;
            border: 1px solid rebeccapurple;
            padding: 50px;
            display: flex;
            flex-direction: column;
        }
        .rightpanel{
            width: 70%;
            height: auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }   
        .rectangle{
            width: 250px;
            height: 250px;
            border: 1px solid black;
        }
        .label__text{
            font-size: 20px;
        }
        .input_range{
            width: 100%;
        }
    </style>
    <script>
        function changeState(elem){
            !elem === true
                ? elem = true
                : elem = false
            
            elem.innerHTML = elem
            document.getElementById('button-outer').value = elem
            updateViewData()
        }
        function updateViewData(){
            const hexToRgb = hex =>
            hex.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i
             ,(m, r, g, b) => '#' + r + r + g + g + b + b)
                .substring(1).match(/.{2}/g)
                .map(x => parseInt(x, 16))

            document.querySelectorAll('input').forEach(el => {
                if(el.getAttribute('type') !== 'checkbox')
                    el.getAttribute(`desc-id`) === "range5"
                        ? document.getElementById(el.getAttribute('desc-id')).innerHTML = el.value / 100
                        : document.getElementById(el.getAttribute('desc-id')).innerHTML = el.value
            })

            let branchOuter = document.getElementById('button-outer').checked

            let pos = [];
            document.querySelectorAll('input').forEach(el => {
                if(el.getAttribute('type') !== 'checkbox')
                    pos.push(el.value);
            })
            console.log()
            let color = hexToRgb(document.getElementById('color-picker').value)

            branchOuter === true
                ? document.getElementById("rectangle")
                .setAttribute('style', 
                `box-shadow: ${pos[0]}px ${pos[1]}px ${pos[2]}px ${pos[3]}px  
                rgba(${color[0]}, ${color[1]},${color[2]},  ${pos[4] / 100})inset;`)
                : document.getElementById("rectangle")
                .setAttribute('style', 
                `box-shadow: ${pos[0]}px ${pos[1]}px ${pos[2]}px ${pos[3]}px  
                rgba(${color[0]}, ${color[1]},${color[2]},  ${pos[4] / 100});`)
            let ready = document.getElementById('rectangle').getAttribute('style')
            document.getElementById('ready_code').innerText = ready;
        }
        updateViewData()
    </script>
</body>
</html>